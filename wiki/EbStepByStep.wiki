#summary 一步步来玩 EB
#labels Phase-Support,FAQ

最快的开始...^假设你已经安装了erl 环境，并且会用svn, 使用M$ 或者 linux 环境^

*ERLANG 环境： 5.7.2  （部分语法老版本不支持，需要用这个版本以上）*

 * 1. [http://erlbattle.googlecode.com/files/war-2.zip 播放器和战斗录像下载]^内有readme.txt^
 * 2. 观看录像，获得饿狼战役战斗的直观感觉
 * 3. 用svn下载代码到你的机器上。 http://erlbattle.googlecode.com/svn/trunk
 * 4. window 运行 config.bat, linux 运行 config
 * 5. 进入 eb0 目录； windows 用 nmake test   ; linux 用 make test (nmake 下载：http://erlbattle.googlecode.com/files/nmake.exe )
 * 6. 进入erl shell
 * 7. erlbattle:start().
 * 8. 系统就启动了. 并且在你反应过来之前就结束了。 
 * 9. 这是你观看的第一场战斗，发生在feardFarmers【恐惧的农民】 和englandArmy【英格兰卫兵】 之间的战斗。
 * 10. 把输出的 erlbattle.warlog 文件改名为warfield.txt。 用第一步下载的播放器播放这个战斗
 * 11. 尝试运行 erlbattle:start(englandArmy,englandArmy)  让两个【英格兰卫兵】比赛
 * 12. 把输出的 erlbattle.warlog 文件改名为warfield.txt。 用第一步下载的播放器播放这个战斗
 * 13. 阅读战场程序代码，或者动手编写你的第一个指挥程序。。。。enjoy it. 

 [ *http://code.google.com/p/erlbattle/wiki/EbInterface EB:玩家指挥程序编写指南* ]

<br><br><br>

----

<wiki:toc/>

== 预习 ==
EB 不是一个单纯的对战游戏，而是为了引导大家在游戏中学习 Erlang 这门面向未来的奇妙语言;
 * 要享受EB 的魅力，你得拿出全部想象力和智力来，为自个儿编写战队，来投入 *[ErlBattle 恶狼战役]* 和其它战队进行生死较量！
 * 所以，参加者必须有以下最最最基本知识储备:
  # 认识E文,只要`1.618级`水平就成 ^认得足26个字母，会查字典^
  # 有电脑编程体验,任何一种语言都可以 (不过在EB中，注定是得全面颠覆的;-)
  # 有足够的好奇心，愿意探寻 Erlang 的世界
  # 有足够开放的心态，愿意主动咨询，也愿意分享经验！

=== 好书 ===
*"[http://www.douban.com/subject/3260311/ Erlang程序设计]"* ^(豆瓣)^

== in Linux ==
`推荐使用 Debian 系的有良好软件仓库支持的发行版本`
~ 这里以 ubuntu 8.04 为例进行说明

=== 安装 erl ===

==== apt ====
{{{
$sudo apt-get install erlang
}}}

或是在`新立得`中搜索 erlang 并安装
 * http://ecug.googlegroups.com/web/2009-07-18-154413_544x245_scrot.png
 * 输入命令 erl 就进入了 Erlang shell
{{{
~> erl
Erlang (BEAM) emulator version 5.5.5 [source] [async-threads:0] [kernel-poll:false]

Eshell V5.5.5  (abort with ^G)
}}}

`即 R11B`

==== CEAN ====
*[http://cean.process-one.net/doc/ Comprehensive Erlang Archive Network]*
 * Erlang软件收藏库
 * 效仿[http://www.cpan.org/ CPAN] 的又一个规范的友好的可无限扩展的 Erlang 作品发布平台!
 * 跨平台的轻易安装,并通过一致性的命令安装/升级/卸载 软件!
 * 唯一要注意的是CEAN 可能默认的没有安装编译器,那么只要:
{{{
cean:install(compiler).
}}}
当然可以先查看安装了什么软件:
{{{
 cean:installed().
["appmon","asn1","cean","common_test","compiler","cosEvent",
 "cosEventDomain","cosFileTransfer","cosNotification",
 "cosProperty","cosTime","cosTransactions","crypto",
 "debugger","dialyzer","docbuilder","edoc","et","gs","hipe",
 "ibrowse","ic","inets","inviso","jinterface","kernel",
 "megaco","mnesia",
 [...]|...]
}}}


下载: http://cean.process-one.net/downloads

搜索: http://cean.process-one.net/packages/

运行:
{{{
/opt/bin/cean> ./start.sh 
Erlang (BEAM) emulator version 5.6.4 [source] [smp:2] [async-threads:0] [kernel-poll:false]

Eshell V5.6.4  (abort with ^G)
}}}

`即 R12B`

 建议::
  * EB 稳定后,也可发布到 CEAN 中! 这样,安装 EB 就可以简单的
{{{
cean:install(erlbattle).
}}}

==== 编译最新版本 ====
可能有问题::
 根据:[http://magixyu.javaeye.com/blog/268998 Erlang 安装手记 - magixyu？magixyu！]
 * 配置时依然..
{{{
*********************************************************************
**********************  APPLICATIONS DISABLED  **********************
*********************************************************************

odbc           : ODBC library - link check failed

*********************************************************************
*********************************************************************
**********************  APPLICATIONS INFORMATION  *******************
*********************************************************************

wx             : Can not link the wx driver, wx will NOT be useable

*********************************************************************
}}}
 * 强行编译将:
{{{
...
23 problems (5 errors, 18 warnings)
make[4]: *** [/usr/local/tmp/0day/otp_src_R13B01/lib/jinterface/priv/com/ericsson/otp/erlang/OtpErlangExit.class] 错误 1
make[4]:正在离开目录 `/usr/local/tmp/0day/otp_src_R13B01/lib/jinterface/java_src/com/ericsson/otp/erlang'
make[3]: *** [opt] 错误 2
make[3]:正在离开目录 `/usr/local/tmp/0day/otp_src_R13B01/lib/jinterface/java_src'
make[2]: *** [opt] 错误 2
make[2]:正在离开目录 `/usr/local/tmp/0day/otp_src_R13B01/lib/jinterface'
make[1]: *** [opt] 错误 2
make[1]:正在离开目录 `/usr/local/tmp/0day/otp_src_R13B01/lib'
make: *** [fourth_bootstrap_build] 错误 2
}}}

 解决::
  * [ http://argan.javaeye.com/blog/424110 在ubuntu上编译erlang with wx - 阿干的个人博客 - JavaEye技术网站]
  * [http://groups.google.com/group/erlang-china/browse_thread/thread/acd8efea64e35e2 问下UTF-8 编码的erl 文件如何编译和运行 - Erlang China | Google 网上论坛]


=== 安装 svn ===
{{{
$sudo apt-get install subversion
}}}
检查安装的版本
{{{
l> svn --version
svn，版本 1.5.1 (r32289)
   编译于 Oct  6 2008，12:54:52

版权所有 (C) 2000-2008 CollabNet。
Subversion 是开放源代码软件，请参阅 http://subversion.tigris.org/ 站点。
此产品包含由 CollabNet(http://www.Collab.Net/) 开发的软件。

可使用以下的版本库访问模块: 

* ra_neon : 通过 WebDAV 协议使用 neon 访问版本库的模块。
  - 处理“http”方案
  - 处理“https”方案
* ra_svn : 使用 svn 网络协议访问版本库的模块。  - 使用 Cyrus SASL 认证
  - 处理“svn”方案
* ra_local : 访问本地磁盘的版本库模块。
  - 处理“file”方案
}}}

=== 下载代码 ===
{{{
$ svn checkout http://erlbattle.googlecode.com/svn/trunk/ erlbattle-read-only
}}}

=== 运行EB ===
 预测试::
{{{
$ cd /path/to/u/erlbattle-read-only
$ ./configure
$ cd eb0
$ make test
rm -rf .//erlbattle.beam .//battlefield.beam .//tools.beam .//channel.beam .//battleRecorder.beam .//englandArmy.beam .//feardFarmers.beam .//testAll.beam .//testBattleFieldCreate.beam .//testErlBattleTakeAction.beam .//testErlBattleGetTime.beam 
erlc -W +debug_info -o./ erlbattle.erl
erlc -W +debug_info -o./ battlefield.erl
erlc -W +debug_info -o./ tools.erl
erlc -W +debug_info -o./ channel.erl
erlc -W +debug_info -o./ battleRecorder.erl
erlc -W +debug_info -o./ englandArmy.erl
erlc -W +debug_info -o./ feardFarmers.erl
...
}}}


运行游戏!
{{{
$ erl -noshell -s erlbattle start
Battle Begin ....
Army matching into the battle fileds....
don't kill us , we are poor farmers 
Battle Recorder Begin to Run 
don't kill us , we are poor farmers 
don't kill us , we are poor farmers 
...
}}}

== in M$ ==

=== 安装 erl ===

=== 安装 svn ===

=== 下载代码 ===

=== 编译运行 ===